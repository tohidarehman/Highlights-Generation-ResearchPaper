 Cloud cover is a common and inevitable phenomenon that often hinders the usability of optical remote sensing image data and further interferes with continuous cartography based on RS image interpretation . In the literature the off the shelf cloud detection methods either require various hand crafted features or utilize data driven features using deep networks . Overall deep networks achieve much better performance than traditional methods using hand crafted features . However the current deep networks used for cloud detection depend on massive pixel level annotation labels which require a great deal of manual annotation labor . To reduce the labor needed for annotating the pixel level labels this paper proposes a weakly supervised deep learning based cloud detection method using block level labels indicating only the presence or the absence of cloud in one RS image block . In the training phase a new global convolutional pooling operation is proposed to enhance the ability of the feature map to represent useful information . In the testing phase the trained deep networks are modified to generate the cloud activation map via the local pooling pruning strategy which prunes the local pooling layers of the deep networks that are trained in the training phase to improve the quality of CAM . One large RS image is cropped into multiple overlapping blocks by a sliding window and then the CAM of each block is generated by the modified deep networks . Based on the correspondence between the image blocks and CAMs multiple corresponding CAMs are collected to mosaic the CAM of the large image . By segmenting the CAM using a statistical threshold against a clear sky surface the pixel level cloud mask of the testing image can be obtained . To verify the effectiveness of our proposed WDCD method we collected a new global dataset for which the training dataset contains over 200 000 RS image blocks with block level labels from 622 large GaoFen 1 images from all over the world the validation dataset contains 5 large GaoFen 1 images with pixel level annotation labels and the testing dataset contains 25 large GaoFen 1 and ZiYuan 3 images with pixel level annotation labels . Even under the extremely weak supervision our proposed WDCD method could achieve excellent cloud detection performance with an overall accuracy as high as 96.66 . Extensive experiments demonstrated that our proposed WDCD method obviously outperforms the state of the art methods . The collected datasets have been made publicly available online

@highlight A weakly supervised deep learning framework is proposed to address cloud detection.
@highlight A novel global convolutional pooling GCP operation is proposed.
@highlight This paper proposes a new local pooling pruning LPP strategy.
@highlight A large scale remote sensing image dataset for cloud detection is released.
