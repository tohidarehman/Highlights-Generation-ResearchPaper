 At present the capacitor voltage balancing control and the closed loop control algorithms are two important issues in a modular multilevel converter control system . In the published papers the majority of the proposed balancing and closed loop control methods require the measurement of the sub module capacitor voltages . To reduce the cost and control complexity firstly this paper presents a discrete time luenberger capacitor voltage observer to estimate the SM capacitor voltages . Concerning the difficulty of the observation systems stability analysis caused by the time varying input and output switching function matrices this paper manages to obtain the observer gain matrix design method from the point of stability analysis by the passive theory . In this process the persistently and sufficiently exciting condition about the switching functions to ensure the uniformly asymptotic convergence of the observation errors is obtained . This condition is also necessary for the feedback control system based on the observed state variables . Secondly this paper presents a discrete time state error feedback controller using the observed capacitor voltages . According to the passive theory and separation principle the stability of the MMC closed loop system is analyzed . Finally the correctness of the results obtained in this paper under different conditions including the convergence and robustness of the observer and the state error feedback controller using the observed capacitor voltages are verified through the simulation .

@highlight A discrete time luenberger reduced order SM capacitor voltage observer is designed.
@highlight The MMC closed loop controller using the observed capacitor voltages is designed.
@highlight The stability and robustness of the above mentioned systems are analyzed.
@highlight The importance of the PSE condition of the switching functions is pointed out.
