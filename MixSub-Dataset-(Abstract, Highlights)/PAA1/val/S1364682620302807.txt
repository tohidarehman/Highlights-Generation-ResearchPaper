 In this paper the wavelet packet transform is applied to analyze the time frequency features of three kinds of lightning events and a new identification method based on WPT is proposed . The magnetic field data used in this paper were recorded by Nanjing Lightning Location Network in 2018 . Firstly the wavelet spectra of three typical lightning events are given and it is found that spectral ranges of these three events are different . The predominant radiation frequency of the stepped leader is the highest and that of the return strokes is the lowest . A total of 232 cloud pulses 876 return strokes and 373 stepped leaders are analyzed by WPT in order to investigate their behavior in time frequency domain . The statistical result shows that the cloud pulse return stroke and stepped leader radiate predominantly in the frequency range 956kHz 214kHz and 52236kHz respectively . According to the energy distribution characteristics three indices are proposed to distinguish the different lightning events . It is found that the recognition rate of return stroke is 91 and that of stepped leader is up to 93 .

@highlight The magnetic field data recorded by Nanjing Lightning Location Network were analyzed by the wavelet packet transform.
@highlight The predominant frequency range of different lightning events could be obtained.
@highlight Finding that the energy variation in frequency domain is different for different lightning events.
@highlight Based on theWPT three new identification indices were proposed to distinguish three kinds of lightning events.
