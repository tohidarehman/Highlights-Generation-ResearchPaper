 Deep learning can be applied to the field of fault diagnosis for its powerful feature representation capabilities . When a certain class fault samples available are very limited it is inevitably to be unbalanced . The fault feature extracted from unbalanced data via deep learning is inaccurate which can lead to high misclassification rate . To solve this problem new generator and discriminator of Generative Adversarial Network are designed in this paper to generate more discriminant fault samples using a scheme of global optimization . The generator is designed to generate those fault feature extracted from a few fault samples via Auto Encoder instead of fault data sample . The training of the generator is guided by fault feature and fault diagnosis error instead of the statistical coincidence of traditional GAN . The discriminator is designed to filter the unqualified generated samples in the sense that qualified samples are helpful for more accurate fault diagnosis . The experimental results of rolling bearings verify the effectiveness of the proposed algorithm .

@highlight Design a new generator to generate fault feature rather than the fault data itself.
@highlight Design a two hierarchical discriminator which can filter unqualified fault samples.
@highlight Generator discriminator and DNN fault diagnosis model are alternatively optimized.
