 Location based services such as DiDi and bike sharing are becoming increasingly popular . However the use of these services raises privacy concerns . In the past few years differential privacy technology has been applied to location information protection . However most existing models largely fail to resist complex background knowledge attacks . This paper proposes a novel privacy preservation method for trajectory data . It is based on a prefix tree and uses differential privacy . It should be noted that existing methods only consider either a certain location point or the entire trajectory . In the proposed prefix tree structure the nodes of the tree store the trajectory segments . The parameter minimum description length method is combined with the Dijkstra method to select feature trajectory points that represent the entire trajectory thus further reducing the complexity of data processing . To protect privacy Laplacian noise is added to the location data of trajectory segments by using differential privacy . In addition a background and contextual information attack model is proposed and the corresponding protection method is provided . Finally a Markov chain is used to limit the size of the noise added to the data . The proposed algorithm is compared with related state of the art algorithms on a public dataset . The results demonstrate that our algorithm can ensure not only privacy but also data availability .

@highlight The noise prefix tree structure satisfying differential privacy is proposed.
@highlight PDML combined with Dijkstra is used to reduce complexity of trajectory data processing.
@highlight Markov chain is used to limit the size of noise added to the data.
