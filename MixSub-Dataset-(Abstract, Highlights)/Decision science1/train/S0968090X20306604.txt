 Transportation networks are unprecedentedly complex with heterogeneous vehicular flow . Conventionally vehicles are classified by size the number of axles or engine types e.g . standard passenger cars versus trucks . However vehicle flow heterogeneity stems from many other aspects in general e.g . ride sourcing vehicles versus personal vehicles human driven vehicles versus connected and automated vehicles . Provided with some observations of vehicular flow for each class in a large scale transportation network how to estimate the multi class spatio temporal vehicular flow in terms of time varying Origin Destination demand and path link flow remains a big challenge . This paper presents a solution framework for multi class dynamic OD demand estimation in large scale networks that work for any vehicular data in general . The proposed framework cast the standard OD estimation methods into a computational graph with tensor representations of spatio temporal flow and all intermediate features involved in the MCDODE formulation . A forward backward algorithm is proposed to efficiently solve the MCDODE formulation on computational graphs . In addition we propose a novel concept of tree based cumulative curves to compute the exact multi class Dynamic Assignment Ratio matrix . A Growing Tree algorithm is developed to construct tree based cumulative curves . The proposed framework is examined on a small network a mid size network as well as a real world large scale network . The experiment results indicate that the proposed framework is compelling satisfactory and computationally plausible .

@highlight A general framework for estimating multi class dynamic O D demand.
@highlight A computational graph formulation with efficient forward backward solution algorithm.
@highlight A tree based cumulative curves method to estimate demand gradients.
@highlight State of the art deep learning techniques can be adopted in this framework.
@highlight The methods are examined in large scale real world networks.
