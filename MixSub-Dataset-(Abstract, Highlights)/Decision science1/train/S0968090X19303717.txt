 It is a common practice for transit lines with fluctuating passenger demands to use demand driven bus scheduling to reduce passenger waiting time and avoid bus overcrowding . However current literature on the demand driven bus scheduling generally assumes fixed bus capacity and exclusively optimizes bus dispatch headways . With the advent of connected and autonomous vehicle technology and the introduction of autonomous minibus shuttle the joint design of bus capacity and dispatch headway holds promises to further improving the system efficiency while reducing operating and passenger costs . This paper formulates this problem as an integer nonlinear programming model for transit systems operating with mixed human driven and autonomous buses . In such mixed operating environment the model simultaneously considers dynamic capacity design of autonomous bus i.e . autonomous buses with varying capacity can be obtained by assembling and or dissembling multiple autonomous minibuses trajectory control of autonomous bus i.e . autonomous bus can dynamically adjust its running time as a function of its forward and backward headways and stop level passenger boarding and alighting behavior . The objective of the model is designed to balance the trade off between the operating costs of dispatching different types of bus and the costs of increased passenger waiting time due to inadequate bus dispatching . The model is solved using a dynamic programming approach . We show that the proposed model is effective in reducing passenger waiting time and total operating cost . Sensitivity analysis is further conducted to explore the impact of miscellaneous factors on optimal dispatching decisions such as penetration rate of autonomous bus bus running time variation and passenger demand level .

@highlight We jointly optimize the scheduling and capacity of mixed human driven and autonomous buses.
@highlight An integer nonlinear programming model is developed to consider both bus operating cost and passenger cost.
@highlight The model can be solved efficiently using a dynamic programming approach.
@highlight Simulation and empirical tests prove that autonomous buses are beneficial to both operators and passengers.
