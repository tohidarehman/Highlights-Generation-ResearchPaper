 Peer to peer ridesharing is a form of shared use mobility that has emerged in recent decades as a result of enabling of the sharing economy and the advancement of new technologies that allow for easy and fast communication between individuals . A P2P ridesharing system provides a platform to match a group of drivers who use their personal vehicles to travel with their peer riders who are in need of transportation . P2P ridesharing systems are traditionally categorized as two side markets with two mutually exclusive sets of agents i.e . riders and drivers . Fixing the roles of participants a priori however could come at an opportunity cost of missed social welfare revenue for the system . Consequently this paper proposes a new market game and its corresponding mathematical formulation that outputs matching role assignment and pricing . We investigate the stability properties of this market game and present a mathematical formulation that yields a stable outcome if one exists . Furthermore we propose a Lagrangian relaxation algorithm to obtain a stable solution for large scale games with empty cores through subsidizing the system . Using numerical experiments we demonstrate the benefits of the proposed methodology and its advantages over previously proposed methods for stabilizing non bipartite graphs .

@highlight P2P ridesharing market with role flexibility is modeled as a roommate problem.
@highlight P2P ridesharing market with role flexibility may not admit a stable outcome.
@highlight A minimum subsidy problem is proposed to stabilize the P2PRM.
@highlight The minimum subsidy is bounded by the integrality gap from below.
@highlight The minimum subsidy is bounded by the minimum blocking value from above.
