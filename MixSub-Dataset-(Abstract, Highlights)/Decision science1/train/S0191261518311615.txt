 Time varying capacity design holds an opportunity to reduce the energy consumption of urban mass transit systems e.g . urban rail transits bus rapid transits modular autonomous vehicles . In this paper we investigate the joint design of dispatch headway and vehicle capacity for one to one shuttle systems with oversaturated traffic to achieve the optimal tradeoff between general vehicle dispatching cost and customer waiting cost . We propose a continuum approximation model from a macroscopic point of view to reveal fundamental analytical insights into the optimal design . By introducing the concept of a preferred virtual arrival demand curve at the origin station we prove that the investigated problem with possibly oversaturated traffic can be equivalently solved with a simpler revised problem where only unsaturated traffic is present . With this property we decompose the original problem into a set of independent unit time revised unsaturated problems that can be analytically solved in each neighborhood across the operational horizon . With two sets of numerical experiments we show that the CA model offers near optimum solutions with negligible errors very efficiently and we also verify the theoretical properties . Also the effectiveness of time varying vehicle capacity design is demonstrated in shuttle systems under both saturated and unsaturated traffic . Overall the proposed CA model contributes to the CA methodology literature by extending the CA method for traditional transit dispatching problems with unsaturated traffic to the joint design of dispatch headway and vehicle capacity considering oversaturated traffic adjustable vehicle capacities and other factors .

@highlight Propose a continuum approximation model from a macroscopic point of view.
@highlight Prove that the investigated problem is equivalent to a simpler revised problem.
@highlight Decompose the original problem into a set of analytically solvable subproblems.
