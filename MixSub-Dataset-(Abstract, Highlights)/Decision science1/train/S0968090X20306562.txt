 In the paper a routing algorithm of two sub algorithms is proposed for consideration of tactical decisions in a microscopic crowd simulation . One sub algorithm works in the high or macroscopic level and is used to determine the departure door which would suffer a later change whenever pedestrians firstly enter rooms . The sub algorithm is based on a tailored Dijkstra shortest path algorithm with introduction of the concept of impedance conduction for considering congestion along paths . The other sub algorithm works in the low or microscopic level and is supposed to work with any chosen microscopic crowd dynamics model . It is mainly used to model dynamic changes of pedestrians departure doors while they are walking inside rooms . Many mechanisms are introduced for considering practical factors affecting pedestrians routing behaviors for example consideration of congestion of segments between pedestrians and doors consideration of impact of re selection of previous doors etc . According to conducted numerical experiments the proposed algorithm can well model crowds tactical decisions in a microscopic simulation under various scenarios thus is a suitable method for study of crowd dynamics in a complicated environment .

@highlight A new crowd routing algorithm is proposed.
@highlight The concept of impedance conduction is invented for an even distribution of pedestrians.
@highlight An integrated framework is proposed for a systematic consideration of various factors affecting pedestrian routing behaviors.
@highlight A new approach for modeling crowd in a single room of quite obstacles is proposed.
