 Both for profit and nonprofit peer to peer ridesharing services have gained enormous popularity in recent years due to their advantages over solo driving and public transit . We study the rideshare matching and routing problem in a nonprofit P2P ridesharing system consisting of a matching agency drivers and riders . The matching agency is a government or a not for profit organization and its objective is to maximize the societal benefits of ridesharing . The drivers involved are commuters and hence have their own travel plans which are executed regardless of whether riders are matched with them . We consider both static and dynamic versions of the nonprofit P2P ridesharing problem . Existing modeling and solution approaches for similar P2P ridesharing problems can only solve relatively small problem instances optimally . We propose an exact solution algorithm for the static version of the problem by taking advantage of its special characteristics . This exact solution approach formulates and solves the problem as a set packing formulation using route based variables and uses an efficient graph based approach to generate all necessary vehicle routes in the formulation quickly . We also develop a column generation based heuristic approach for the static problem . Finally we propose two dynamic dispatching policies for the dynamic version of the problem . Our proposed exact algorithm solves very large problem instances of the static problem and our CG based heuristic can find near optimal solutions for even larger instances of the static problem in short computation time . Our dynamic dispatching policies can generate near optimal solutions for the dynamic problem in real time fashion . We also generate some important insights based on some taxi trip data in Washington DC . First P2P ridesharing can bring significant cost saving especially when the participants have a relatively flexible schedule . For every 10 increase in schedule flexibility there is an about 4 to 7 increase in cost saving . Second the cost saving due to ridesharing increases with the vehicle capacity but this increase slows down quickly when the vehicle capacity reaches 4 . Third ridesharing generates more cost savings during peak hours and in urban areas .

@highlight Formulated the P2P ridesharing problem as a set packing problem using route based variables.
@highlight Designed an efficient graph based approach to generate all necessary vehicle routes in the formulation.
@highlight Developed a column generation based heuristic approach for the large scale static P2P ridesharing problem.
@highlight The proposed exact algorithm solves very large problem instances e.g. with 600 drivers and 1800 riders .
@highlight The dynamic dispatching policies can generate near optimal solutions for the dynamic problem in real time.
