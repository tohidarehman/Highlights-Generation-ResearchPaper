 In real-time collaborative environments, address space transformation strategy can be used to achieve consistency maintenance of shared documents. However, as for the execution of compound operations, they are firstly decomposed into primitive operations, the relationships between the referencing objects and referenced objects are lost during the decomposition process. Besides, the Undo operations in this environment are targeted at compound operations, but not decomposed basic ones. However, the traditional algorithms take primitive operation as the manipulation unit, thus leading to semantic inconsistencies of compound Undo operations. This paper appends two history buffers to maintain the relationships between the original operations and the decomposed ones and introduces “Retrace-Undo-VT-Redo-Retrace” strategy to realize the consistency maintenance of compound operations. Also, this paper introduces the version-decomposition strategy, describes the main algorithms of the compound Undo operations and analyses the validity of the strategy. Case analysis is given to show the effectiveness of the strategy.

@highlight We append two history buffers to maintain the relationships between original operations and decomposed ones.
@highlight Combined with AST method, the “Retrace-Undo-VT-Redo-Retrace” strategy is adopted to realize the consistency maintenance of compound operations.
@highlight Based on multi-version strategy, the Undo/Redo algorithms are proposed with case analyses to verify the effectiveness.
